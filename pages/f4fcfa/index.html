<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据类型相关知识点 | easyinmind</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="前端技术博客,干货,前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.c6f546a7.css" as="style"><link rel="preload" href="/assets/js/app.ac4b6ab1.js" as="script"><link rel="preload" href="/assets/js/2.60fa7d2d.js" as="script"><link rel="preload" href="/assets/js/5.04d79d73.js" as="script"><link rel="prefetch" href="/assets/js/10.e3c3ed9f.js"><link rel="prefetch" href="/assets/js/11.cd22fc39.js"><link rel="prefetch" href="/assets/js/12.6e58a9a5.js"><link rel="prefetch" href="/assets/js/13.15db183c.js"><link rel="prefetch" href="/assets/js/14.ea222cdf.js"><link rel="prefetch" href="/assets/js/15.ebea94b0.js"><link rel="prefetch" href="/assets/js/16.d906d51f.js"><link rel="prefetch" href="/assets/js/17.77ed0cf8.js"><link rel="prefetch" href="/assets/js/18.8f49ce93.js"><link rel="prefetch" href="/assets/js/19.76efb79c.js"><link rel="prefetch" href="/assets/js/20.a458b38b.js"><link rel="prefetch" href="/assets/js/21.0f1ba789.js"><link rel="prefetch" href="/assets/js/22.abc63247.js"><link rel="prefetch" href="/assets/js/23.e0908490.js"><link rel="prefetch" href="/assets/js/24.adaa8491.js"><link rel="prefetch" href="/assets/js/25.f2e58032.js"><link rel="prefetch" href="/assets/js/26.3c4775ed.js"><link rel="prefetch" href="/assets/js/27.2b24c581.js"><link rel="prefetch" href="/assets/js/28.f72ed366.js"><link rel="prefetch" href="/assets/js/29.6eef1db0.js"><link rel="prefetch" href="/assets/js/3.ebed8fee.js"><link rel="prefetch" href="/assets/js/30.4ab043c1.js"><link rel="prefetch" href="/assets/js/31.62ae52f1.js"><link rel="prefetch" href="/assets/js/32.f1e00afc.js"><link rel="prefetch" href="/assets/js/33.f9cb7f28.js"><link rel="prefetch" href="/assets/js/34.3483f596.js"><link rel="prefetch" href="/assets/js/4.75bcf19e.js"><link rel="prefetch" href="/assets/js/6.5071b6f4.js"><link rel="prefetch" href="/assets/js/7.a6252428.js"><link rel="prefetch" href="/assets/js/8.5220e00f.js"><link rel="prefetch" href="/assets/js/9.baad057f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c6f546a7.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/easyinmind/cdn_file/blog/blog-photo.jpg" alt="easyinmind" class="logo"> <span class="site-name can-hide">easyinmind</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/easyinmind/cdn_file/blog/1024x1024.jpg"> <div class="blogger-info"><h3>DBY</h3> <span>学无止境</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>code</span> <span class="arrow down"></span></p> <!----></section></li><li><a href="/pages/f4fcfa/" aria-current="page" class="active sidebar-link">数据类型相关知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#概览" class="sidebar-link">概览</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#原始类型" class="sidebar-link">原始类型</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#引用类型" class="sidebar-link">引用类型</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#基本包装类型" class="sidebar-link">基本包装类型</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#装箱和拆箱操作" class="sidebar-link">装箱和拆箱操作</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#数据类型在内存的存储" class="sidebar-link">数据类型在内存的存储</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#栈" class="sidebar-link">栈</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#堆" class="sidebar-link">堆</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#复制、比较、数据传递" class="sidebar-link">复制、比较、数据传递</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#理解" class="sidebar-link">理解</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#类型判断" class="sidebar-link">类型判断</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#instanceof" class="sidebar-link">instanceof</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#object-prototype-tostring" class="sidebar-link">Object.prototype.toString()</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#数据类型判断封装" class="sidebar-link">数据类型判断封装</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#其它" class="sidebar-link">其它</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#类型转换" class="sidebar-link">类型转换</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#if语句和逻辑语句" class="sidebar-link">if语句和逻辑语句</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#数学运算符" class="sidebar-link">数学运算符</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#两等" class="sidebar-link">两等==</a></li><li class="sidebar-sub-header"><a href="/pages/f4fcfa/#面试题" class="sidebar-link">面试题</a></li></ul></li><li><a href="/pages/897f4f/" class="sidebar-link">promise</a></li><li><a href="/pages/9d41c4/" class="sidebar-link">深浅拷贝</a></li><li><a href="/pages/967ed7/" class="sidebar-link">preload&amp;prefetch</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-33863c7e><div class="articleInfo" data-v-33863c7e><ul class="breadcrumbs" data-v-33863c7e><li data-v-33863c7e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-33863c7e></a></li> <li data-v-33863c7e><a href="/categories/?category=JavaScript" title="分类" data-v-33863c7e>JavaScript</a></li> <!----> <!----></ul> <div class="info" data-v-33863c7e><div title="作者" class="author iconfont icon-touxiang" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>dby</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>2021-04-06</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><!---->
          数据类型相关知识点
        </h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="概览"><a href="#概览" class="header-anchor">#</a> 概览</h2> <blockquote><ol><li>值类型和引用类型有什么</li> <li>理解基本包装类型、装箱拆箱概念</li> <li>数据类型在内存中的存储方式</li> <li>类型判断的方法</li> <li>类型转换</li></ol></blockquote> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <p><em>ECMAScript</em> 定义了数据类型，分两大类：<strong>原始数据类型</strong>、<strong>引用数据类型</strong></p> <h2 id="原始类型"><a href="#原始类型" class="header-anchor">#</a> 原始类型</h2> <blockquote><p>值类型、基本数据类型</p></blockquote> <ul><li><strong>Null</strong>: 只有一个值<code>null</code></li> <li><strong>Undefined</strong>: 只有一个值<code>undefined</code></li> <li><strong>String</strong>: 一串表示文本值的字符序列</li> <li><strong>Number</strong>: 整数、浮点数、特殊值 -Infinity、+Infinity、NaN</li> <li><strong>Boolean</strong>: true、false</li> <li><strong>Symbol</strong>: 一种实例是唯一且不可改变的数据类型（ES6）</li> <li><strong>BigInt</strong>: 简单来说可以表示任意大的整数（ES10）</li></ul> <p>特性：基本数据类型的值是不可改变的，只能被替换（重新赋值）</p> <h2 id="引用类型"><a href="#引用类型" class="header-anchor">#</a> 引用类型</h2> <blockquote><p>在js中，除了原始类型都是引用类型</p></blockquote> <p><strong>Object</strong>引用类型包含了更具体的引用类型(子类型):</p> <ul><li><strong>Array</strong></li> <li><strong>Function</strong></li> <li><strong>Date</strong></li> <li><strong>RegExp</strong></li> <li><strong>Error</strong></li> <li><strong>Arguments</strong></li> <li>...</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/easyinmind/cdn_file/blog/js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png" alt=""></p> <h2 id="基本包装类型"><a href="#基本包装类型" class="header-anchor">#</a> 基本包装类型</h2> <blockquote><p>String、Number、Boolean</p></blockquote> <p>基本包装类型严格来说不属于原始数据类型和引用数据类，
但是又和两者有关系。</p> <p>基本数据类型的值不是对象，不能有自己的方法和属性，但是</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span>
 <span class="token comment">// 1.创建基本包装类型 new String(&quot;str&quot;)，调用方法或属性</span>
str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// 2.上一行代码执行完了，销毁 new String(&quot;str&quot;) 实例</span>
<span class="token comment">// 3.创建一个新的new String(&quot;str&quot;)实例，并添加color</span>
str<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span> 
<span class="token comment">// 4.上一行代码执行完了，销毁 new String(&quot;str&quot;)实例</span>
<span class="token comment">// 5.创建一个新的new String(&quot;str&quot;)实例，并获取color：undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>color<span class="token punctuation">)</span>
<span class="token comment">// 6.上一行代码执行完了，销毁 new String(&quot;str&quot;)实例</span>
<span class="token comment">// 已上创建了三个 new String(&quot;str&quot;)实例，并在每行执行完之后销毁</span>
<span class="token comment">// 在销毁前赋值给变量</span>
<span class="token keyword">const</span> str2 <span class="token operator">=</span> str<span class="token punctuation">.</span>length
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>每当读取一个基本类型的值的时候，后台就创建一个对应的基本包装类型的对象，从而让我们能够调用一些方法来操作这些数据。</p> <ol><li>创建一个对应的的包装类型实例</li> <li>在实例上调用方法</li> <li>销毁实例</li></ol> <p>基本包装类型的对象和引用类型的对象最大的一个区别是，对象的生存期不同，导致的一个结果就是，基本包装类型无法自定义自己的方法属性。对于引用类型的数据，在执行流离开当前作用域之前都会保存在内存中，而对于自动创建的基本包装类型的对象，只存在于一行代码的执行瞬间，执行完毕就会立即被销毁。</p> <h2 id="装箱和拆箱操作"><a href="#装箱和拆箱操作" class="header-anchor">#</a> 装箱和拆箱操作</h2> <p>装箱：基本类型转为包装类型，为了调用对应的方法或者使用属性</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 隐式装箱</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'test'</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">subString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 会自动创建包装类型</span>

<span class="token comment">// 显式装箱，通过new创建，创建的实例是引用类型</span>
<span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>避免显示装箱，因为在后面的操作中你可能会不确定这个数据是什么类型</p> <p>拆箱：引用类型转为基本类型，在工作中最常见的拆箱就是对两个不同类型的数据进行<code>==</code>比较</p> <blockquote><p>拆箱的过程一般会调用抽象操作[ToPrimitive],其内部主要的方法是valueOf和toString</p></blockquote> <ul><li>引用类型转换为非String类型，先调用valueOf，再调用toString</li> <li>引用类型转换为String类型，先调用toString，再调用valueOf</li> <li><strong>toString</strong> 方法返回一个字符串 &quot;[object Object]&quot;</li> <li><strong>valueOf</strong> 方法返回对象自身</li></ul> <h2 id="数据类型在内存的存储"><a href="#数据类型在内存的存储" class="header-anchor">#</a> 数据类型在内存的存储</h2> <h2 id="栈"><a href="#栈" class="header-anchor">#</a> 栈</h2> <blockquote><p>值类型在创建的时候就由系统在栈中分配好固定的空间及大小<br>
由于栈中的内存空间的大小是固定的，所以存储在栈中的数据不可变<br> <strong>值类型</strong>: 变量名 -&gt; 具体值</p></blockquote> <ul><li>存储的值大小固定</li> <li>空间较小</li> <li>可以直接操作其保存的变量，运行效率高</li> <li>由系统自动分配存储空间</li></ul> <h2 id="堆"><a href="#堆" class="header-anchor">#</a> 堆</h2> <blockquote><p>引用类型数据在栈中存储的只是固定长度的内存地址，具体值存储在堆中
<strong>引用类型</strong>: 变量名 -&gt; 内存地址 -&gt; 具体值</p></blockquote> <ul><li>存储的值大小不定，可动态调整</li> <li>空间较大，运行效率低</li> <li>无法直接操作其内部存储，使用引用地址读取</li> <li>通过代码进行分配空间</li></ul> <h2 id="复制、比较、数据传递"><a href="#复制、比较、数据传递" class="header-anchor">#</a> 复制、比较、数据传递</h2> <ul><li>复制：把一个变量的值复制给另一个变量，其实复制的都是栈中的值
<ul><li>值类型复制的是具体值</li> <li>引用类型复制的是内存地址</li></ul></li> <li>比较：数据类型比较也是比较栈中的值
<ul><li>值类型比较具体值</li> <li>引用类型比较内存地址</li></ul></li> <li>数据传递：函数进行数据传递的时候，传递的都是栈中的值
<ul><li>值类型传递的是具体值</li> <li>引用类型传递的是内存地址</li></ul></li></ul> <h2 id="理解"><a href="#理解" class="header-anchor">#</a> 理解</h2> <p>基于数据类型和堆栈的特性，在一个数据创建的时候，js会判断如果是值类型，会把具体值存在栈中。
如果是引用类型会把具体值存在堆中，把对应的内存地址存在栈中。<br>
总结：复制、比较、数据传递所操作的都是栈中的值（值类型：具体值、引用类型：内存地址）</p> <table><thead><tr><th>数据类型</th> <th>栈空间</th> <th>堆空间</th></tr></thead> <tbody><tr><td>值类型</td> <td>变量名：具体值</td> <td></td></tr> <tr><td>引用类型</td> <td>变量名：内存地址</td> <td>具体值</td></tr></tbody></table> <h2 id="类型判断"><a href="#类型判断" class="header-anchor">#</a> 类型判断</h2> <h2 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h2> <blockquote><p>可以精准的判断<strong>非null的基本类型</strong>、<strong>函数类型</strong><br>
除了函数，无法判断引用类型，返回值都为 object</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">typeof</span> <span class="token string">'ConardLi'</span>  <span class="token comment">// string</span>
<span class="token keyword">typeof</span> <span class="token number">123</span>  <span class="token comment">// number</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span>  <span class="token comment">// boolean</span>
<span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// symbol</span>
<span class="token keyword">typeof</span> <span class="token keyword">undefined</span>  <span class="token comment">// undefined</span>
<span class="token keyword">typeof</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h2> <blockquote><p>可以判断引用类型的具体类型<br>
对象 instanceof 对象，语法规定两边都是对象</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span> <span class="token comment">// true</span>
<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>其实 instanceof 的判断规则为，数据是否在原型链上</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这样判断不是太准确，instanceof 的初衷并不是数据类型判断，也不能判断值类型数据</p> <h2 id="object-prototype-tostring"><a href="#object-prototype-tostring" class="header-anchor">#</a> Object.prototype.toString()</h2> <blockquote><p>为何使用 Object.prototype上的toString，而不是Array、Date、RegExp。。。上的？<br>
因为Object.prototype.toString()被大部分引用类型继承，js重写了其它引用数据类型的toString，达不到效果</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> an <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span><span class="token string">'An'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
an<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hello,An&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Object.prototype.toString()方法返回 &quot;[object type]&quot;</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> toString<span class="token operator">=</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>und<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nul<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Null]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>boo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Boolean]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Number]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object String]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Object]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Function]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Date]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object RegExp]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Error]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Arguments]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>不能精准判断自定义对象，对于自定义对象只会返回[object Object]，常用于判断浏览器内置对象</p> <h2 id="数据类型判断封装"><a href="#数据类型判断封装" class="header-anchor">#</a> 数据类型判断封装</h2> <blockquote><p>为何Object.prototype.toString能判断所有数据类型，还需要 typeof，考虑性能方面</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 值类型判断</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value 
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="其它"><a href="#其它" class="header-anchor">#</a> 其它</h2> <p><strong>注意</strong>：Array.isArray() ie8 不支持，可以增加Object.prototype.toString兼容。
instanceof 遇到 跨页面（iframe）判断无效。</p> <h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <blockquote><p>装箱和拆箱其实就是一种类型转换<br> <a href="https://javascript.ruanyifeng.com/grammar/conversion.html" target="_blank" rel="noopener noreferrer">更多参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ul><li><strong>强制转换</strong> <ul><li>Number()</li> <li>String()</li> <li>Boolean()</li></ul></li> <li><strong>自动转换</strong></li></ul> <h2 id="if语句和逻辑语句"><a href="#if语句和逻辑语句" class="header-anchor">#</a> if语句和逻辑语句</h2> <blockquote><p>语句中只有单个变量时，下面数据会转为 false，其它转为 true</p></blockquote> <ul><li>null</li> <li>undefined</li> <li>''</li> <li>NaN</li> <li>0</li> <li>false</li></ul> <h2 id="数学运算符"><a href="#数学运算符" class="header-anchor">#</a> 数学运算符</h2> <p><strong>- * /</strong>: 非加运算会把其它类型转为数字</p> <p><strong>+</strong>: 加运算</p> <ol><li>有string时会把另一个转为字符串拼接</li> <li>number+值类型，会把值类型转为number</li> <li>number+引用类型，会把两个数据都转为字符串拼接</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">123</span> <span class="token operator">+</span> <span class="token string">'123'</span> <span class="token comment">// 123123   （规则1）</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token keyword">null</span>  <span class="token comment">// 123    （规则2）</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token boolean">true</span> <span class="token comment">// 124    （规则2）</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// 123[object Object]    （规则3）</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="两等"><a href="#两等" class="header-anchor">#</a> 两等<code>==</code></h2> <ol><li><strong>NaN</strong>: NaN和其他任何类型比较永远返回false(包括和他自己)</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><strong>Boolean</strong>: Boolean和其他任何类型比较，Boolean首先被转换为Number类型。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token boolean">true</span> <span class="token operator">==</span> <span class="token number">1</span>  <span class="token comment">// true 1 == 1</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token string">'2'</span>  <span class="token comment">// false 1 == '2'</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span>  <span class="token comment">// true 1 == [&quot;1&quot;]</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">]</span>  <span class="token comment">// false 1 == [&quot;2&quot;]</span>

<span class="token comment">// false先转为0，undefined 和 null和任何类型比较都为false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false undefined == 0</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false null == false</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="3"><li><strong>String 和 Number</strong>: String和Number比较，先将String转换为Number类型</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">123</span> <span class="token operator">==</span> <span class="token string">'123'</span> <span class="token comment">// true</span>
<span class="token string">''</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="4"><li><strong>null和undefined</strong>: 除了 <code>null == undefined</code>，任何比较都为false</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">// true</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token string">''</span> <span class="token comment">// false</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// false</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token string">''</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="5"><li><strong>原始类型 和 引用类型</strong>: 引用类型按照 <strong>ToPrimitive</strong> 规则转换为原始类型
<ul><li>引用类型转换为非String类型，先调用valueOf，再调用toString</li> <li>引用类型转换为String类型，先调用toString，再调用valueOf</li> <li>如果对象存在 toString() 并返回一个基本类型值，即返回这个值</li> <li>如果 toString() 不存在或返回的不是一个基本类型值，就调用 valueOf()</li> <li>如果 valueOf() 存在并返回一个基本类型值，即返回这个值</li> <li>如果 valueOf() 不存在或返回的不是一个基本类型值，则抛出 TypeError 异常</li> <li><strong>toString</strong> 方法返回一个字符串 &quot;[object Object]&quot;</li> <li><strong>valueOf</strong> 方法返回对象自身</li> <li>数组元素为null或undefined时，该元素被当做空字符串处理，所以<code>[null]</code>、<code>[undefined]</code>都会被转换为0</li></ul></li></ol> <p><strong>总结</strong>: 即拆箱操作会返回值类型，如果toString和valueOf都没返回值类型，则报错</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'[object Object]'</span> <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// true {}调用 toString</span>
<span class="token string">'1,2,3'</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// true [1,2,3]调用 toString</span>

<span class="token comment">// 1. [null] == 0 boolean转为数字</span>
<span class="token comment">// 2. [null]调用valueOf返回[null],在调用toString返回&quot;&quot;, &quot;&quot; == 0</span>
<span class="token comment">// 3. &quot;&quot;转为数字0，0 == 0</span>
<span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// true 同上</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="面试题"><a href="#面试题" class="header-anchor">#</a> 面试题</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 实现 a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3</span>
<span class="token comment">// a要转换为数字，会调用valueOf(),重写此方法，</span>
<span class="token comment">// a == 1时，删除最后一个元素（1）并返回，这时a为[3,2]</span>
<span class="token comment">// a == 2时，删除最后一个元素（2）并返回，这时a为[3]</span>
<span class="token comment">// 以此类推，或者使用shift从前往后删除</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// true</span>
<span class="token comment">// !的优先级高于==，![]首先会被转换为false ==&gt; [] == false</span>
<span class="token comment">// false转换成Number类型0 [] == 0</span>
<span class="token comment">// 左侧[]转换为0，两侧比较相等 0 == 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" title="标签">#数据类型</a></div> <div class="last-updated"><span class="prefix">更新于:</span> <span class="time">2021/11/22</span></div></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/897f4f/">promise</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/967ed7/"><div>preload&amp;prefetch</div></a> <span>09-23</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/2f93fe/"><div>关于webpack的一些想法</div></a> <span>09-04</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/8bb166/"><div>shell</div></a> <span>08-28</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2021
    <span>DBY</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ac4b6ab1.js" defer></script><script src="/assets/js/2.60fa7d2d.js" defer></script><script src="/assets/js/5.04d79d73.js" defer></script>
  </body>
</html>